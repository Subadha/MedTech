(()=>{var e={};e.id=6027,e.ids=[6027],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},13720:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(74200),t(5376),t(59325),t(35866),t(31216);var s=t(23191),a=t(88716),i=t(37922),l=t.n(i),o=t(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(r,n);let c=["",{children:["(protected)",{children:["dashboard",{children:["doctorEnrollment",{children:["certificate-verification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,74200)),"A:\\Subadha\\MedTech\\app\\(protected)\\dashboard\\doctorEnrollment\\certificate-verification\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5376)),"A:\\Subadha\\MedTech\\app\\(protected)\\dashboard\\doctorEnrollment\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,59325)),"A:\\Subadha\\MedTech\\app\\(protected)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,31216)),"A:\\Subadha\\MedTech\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["A:\\Subadha\\MedTech\\app\\(protected)\\dashboard\\doctorEnrollment\\certificate-verification\\page.tsx"],u="/(protected)/dashboard/doctorEnrollment/certificate-verification/page",f={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/dashboard/doctorEnrollment/certificate-verification/page",pathname:"/dashboard/doctorEnrollment/certificate-verification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},81439:(e,r,t)=>{let s={"5a89fbda81161ac70a4c80bf46f31eaf18a1de93":()=>Promise.resolve().then(t.bind(t,32896)).then(e=>e.EnrollDoctorCretificate),c8c079a2b8f5d3eb238efd1336f9b37ba66b1066:()=>Promise.resolve().then(t.bind(t,32896)).then(e=>e.$$ACTION_0),b6fd7ea8ccf587ae2c6e84612102f43bbc54c670:()=>Promise.resolve().then(t.bind(t,36613)).then(e=>e.$$ACTION_0),eed128305de1278271815b106cb5f6d991e1f45e:()=>Promise.resolve().then(t.bind(t,36613)).then(e=>e.IsDoctorEnrolled),"055b550f54cceafa9a8be18c38731b0e85f81e05":()=>Promise.resolve().then(t.bind(t,67806)).then(e=>e.SignOut),"64ed52ef7f4519d221fee47b0ef4f4e29e7d5155":()=>Promise.resolve().then(t.bind(t,67806)).then(e=>e.$$ACTION_0)};async function a(e,...r){return(await s[e]()).apply(null,r)}e.exports={"5a89fbda81161ac70a4c80bf46f31eaf18a1de93":a.bind(null,"5a89fbda81161ac70a4c80bf46f31eaf18a1de93"),c8c079a2b8f5d3eb238efd1336f9b37ba66b1066:a.bind(null,"c8c079a2b8f5d3eb238efd1336f9b37ba66b1066"),b6fd7ea8ccf587ae2c6e84612102f43bbc54c670:a.bind(null,"b6fd7ea8ccf587ae2c6e84612102f43bbc54c670"),eed128305de1278271815b106cb5f6d991e1f45e:a.bind(null,"eed128305de1278271815b106cb5f6d991e1f45e"),"055b550f54cceafa9a8be18c38731b0e85f81e05":a.bind(null,"055b550f54cceafa9a8be18c38731b0e85f81e05"),"64ed52ef7f4519d221fee47b0ef4f4e29e7d5155":a.bind(null,"64ed52ef7f4519d221fee47b0ef4f4e29e7d5155")}},33437:(e,r,t)=>{Promise.resolve().then(t.bind(t,58923))},35303:()=>{},58923:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(10326),a=t(17577),i=t(74064),l=t(74723),o=t(27256),n=t(90772),c=t(10219),d=t(35047);t(15424);var u=(0,t(46242).$)("5a89fbda81161ac70a4c80bf46f31eaf18a1de93");function f(){let{id:e,role:r}=(0,c.a)(),t=(0,d.useRouter)(),[f,m]=(0,a.useTransition)(),[b,p]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),g=o.z.object({document1:o.z.any().refine(e=>e instanceof File&&0!==e.size,"Please upload a valid image"),document2:o.z.any().refine(e=>e instanceof File&&0!==e.size,"Please upload a valid image"),registrationNumber1:o.z.string().min(1,"Registration number is required"),registrationNumber2:o.z.string().min(1,"Registration number is required")}),v=(0,l.cI)({resolver:(0,i.F)(g),mode:"onBlur"}),y=async r=>{let[s,a]=await Promise.all([w(v.getValues("document1")),w(v.getValues("document2"))]),i={publicId1:s.publicId,imageUrl1:s.secureUrl,publicId2:a.publicId,imageUrl2:a.secureUrl,registrationNumber1:v.getValues("registrationNumber1"),registrationNumber2:v.getValues("registrationNumber2")};m(async()=>{u(e,i).then(e=>{e.success?console.log("Form submitted successfully!"):console.error("Error submitting form:"),r.success&&t.push("/dashboard")}).catch(e=>{console.error("Error submitting form:",e)})})},j=(e,r,t)=>{let s=e.target.files?.[0];s&&(r(URL.createObjectURL(s)),v.setValue(t,s))},w=async e=>{let r=new FormData;r.append("file",e),r.append("upload_preset","ypij3fxm"),r.append("cloud_name","cloud-space");let t=await fetch("https://api.cloudinary.com/v1_1/cloud-space/image/upload",{method:"POST",body:r});if(!t.ok)throw Error("Failed to upload image");let s=await t.json();return{secureUrl:s.secure_url,publicId:s.public_id}};return"DOCTOR"!==r?(t.push("/dashboard"),s.jsx("h2",{children:"Only for doctors"})):s.jsx("form",{onSubmit:v.handleSubmit(y),className:"p-5",children:(0,s.jsxs)("div",{className:"flex flex-col px-5 md:px-10 space-y-4",children:[s.jsx("h1",{className:"font-bold text-lg text-gray-800",children:"Attach the Documents shown below"}),s.jsx("p",{className:"text-gray-600",children:"Medical Certificate"}),s.jsx("p",{className:"text-gray-600",children:"Medical Licensing"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center w-full sm:w-[50vw]",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-grow mr-0 md:mr-4",children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Document 1*"}),s.jsx("div",{className:"relative mt-4 w-48 h-48 border-dotted border-2 border-gray-400 rounded-lg flex items-center justify-center",children:b?s.jsx("img",{src:b,alt:"Document 1 Preview",className:"absolute inset-0 w-full h-full object-cover rounded-lg"}):s.jsx("p",{className:"text-gray-500",children:"Preview Document 1"})}),s.jsx("input",{type:"file",accept:".jpg,.png,.svg",className:"mt-2 block w-full text-sm text-gray-600   file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-purple-700 file:text-white   hover:file:bg-purple-400",onChange:e=>j(e,p,"document1")}),v.formState.errors.document1?.message&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(v.formState.errors.document1.message)})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-shrink-0 w-full md:w-[20vw] mt-4 md:mt-0",children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Medical Registration Number*"}),s.jsx("input",{type:"text",...v.register("registrationNumber1"),className:"mt-2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter registration number"}),v.formState.errors.registrationNumber1?.message&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(v.formState.errors.registrationNumber1.message)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center w-full sm:w-[50vw]",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-grow",children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Document 2*"}),s.jsx("div",{className:"relative mt-4 w-48 h-48 border-dotted border-2 border-gray-400 rounded-lg flex items-center justify-center",children:x?s.jsx("img",{src:x,alt:"Document 2 Preview",className:"absolute inset-0 w-full h-full object-cover rounded-lg"}):s.jsx("p",{className:"text-gray-500",children:"Preview Document 2"})}),s.jsx("input",{type:"file",accept:".jpg,.png,.svg",className:"mt-2 block w-full text-sm text-gray-600   file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-purple-700 file:text-white   hover:file:bg-purple-400",onChange:e=>j(e,h,"document2")}),v.formState.errors.document2?.message&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(v.formState.errors.document2.message)})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-shrink-0 w-full md:w-[20vw] mt-4 md:mt-0",children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Medical License Number*"}),s.jsx("input",{type:"text",...v.register("registrationNumber2"),className:"mt-2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter registration number"}),v.formState.errors.registrationNumber2?.message&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(v.formState.errors.registrationNumber2.message)})]})]}),s.jsx(n.z,{className:"w-full md:w-[20vw] h-10 mt-5 bg-purple-700 hover:bg-purple-500",disabled:f,type:"submit",children:"Submit"})]})})}},32896:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$ACTION_0:()=>n,EnrollDoctorCretificate:()=>o});var s=t(27745);t(26461);var a=t(73922),i=t(88296),l=t(85723);let o=(0,s.registerServerReference)("c8c079a2b8f5d3eb238efd1336f9b37ba66b1066",n);async function n(e,r){try{if(console.log(r),!await (0,a.getUserById)(e))return{error:"User not found"};if(await i.db.doctorLicense.findFirst({where:{userId:e}}))return{error:"Doctor profile already exists for this user"};let t=await i.db.doctorLicense.create({data:{...r,userId:e}});return console.log(t),{success:"Saved"}}catch(e){throw console.error("Error enrolling doctor:",e),e}}(0,l.ensureServerEntryExports)([o]),(0,s.registerServerReference)("5a89fbda81161ac70a4c80bf46f31eaf18a1de93",o)},74200:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var s=t(68570);let a=(0,s.createProxy)(String.raw`A:\Subadha\MedTech\app\(protected)\dashboard\doctorEnrollment\certificate-verification\page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let o=(0,s.createProxy)(String.raw`A:\Subadha\MedTech\app\(protected)\dashboard\doctorEnrollment\certificate-verification\page.tsx#default`)},5376:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(19510);t(71159);var a=t(67427),i=t(14143),l=t(17865);async function o({children:e}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex w-full flex-col",children:[s.jsx("hr",{className:"border-t w-full border-gray-200 flex-grow"}),(0,s.jsxs)("div",{className:"flex w-full pl-[25vw] pr-[25vw] p-2 justify-evenly items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[s.jsx("div",{className:"rounded-full border-2 p-2 border-black",children:s.jsx(a._Tb,{size:40})}),s.jsx("div",{className:"h-10",children:0})]}),s.jsx("hr",{className:"border-t pb-10 border-gray-600 flex-grow"}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[s.jsx("div",{className:"rounded-full border-2 p-2 border-black",children:s.jsx(i.JnD,{size:40})}),s.jsx("div",{className:"h-10",children:s.jsx(l.bOz,{size:40})})]})]}),s.jsx("hr",{className:"w-full border-gray-200 flex-grow"})]}),s.jsx("div",{className:"flex p-10 justify-center",children:s.jsx("h1",{className:"font-bold text-2xl",children:"Personalize Your Profile"})}),e]})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,8820,6621,2481,434,362,7070,692,7410,9574,2023,6682,9469,8958,4388,6686,9671,4143,7427,6005,584],()=>t(13720));module.exports=s})();